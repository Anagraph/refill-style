global:
    # BLACK (default)
    black_color:                [0.00,0.00,0.00]
    dark_color:                 [0.250,0.250,0.250]
    mid_color:                  [0.500,0.500,0.500]
    midlight_color:             [0.625,0.625,0.625]
    light_color:                [0.750,0.750,0.750]
    lighter_color:              [0.850,0.850,0.850]
    lightest_color:             [0.900,0.900,0.900]
    ultralight_color:           [0.950,0.950,0.950]
    offwhite_color:             [0.970,0.970,0.970]
    white_color:                [1.00,1.00,1.00]
    transparent:                [0.900,0.900,0.900,0.250]
    route_line:                 [0.000,0.500,1.000]

layers:
    water:
        draw:
            waves:
                color: [0.850,0.850,0.850] # colors the wave lines
        later:
            draw:
                waves:
                    color: [0.850,0.850,0.850] # colors the wave lines

        lakes:
            draw:
                waves:
                    color: [0.850,0.850,0.850]

        other-water-areas:
            draw:
                waves:
                    color: [0.850,0.850,0.850]

        swimming_pool:
            draw:
                waves:
                    color: [0.247,0.812,0.847]

        water-boundary-ocean:
            draw:
                coast:
                    color: [0.000,0.416,1.000]

        water_boundaries-not-ocean:
            draw:
                coast:
                    color: [0.000,0.416,1.000]
            riverbank:
                draw:
                    coast:
                        color: [0.000,0.416,1.000]
                        width: [[9, 0.5px], [11, 1px], [14, 2px], [15, 4px]]

    roads:
        pier:
            draw:
                lines:
                    outline:
                        color: [0.000,0.416,1.000]

    buildings:
        draw:
            polygons:
                color: [0.820,0.820,0.820]
            lines:
                color: [1.00,1.00,1.00]

        # kind_detail:
        #     filter:
        #         kind_detail: true
        #     draw:
        #         polygons:
        #             color: red

        church:
            filter:
                any:
                    - kind_detail: church
                    - landuse_kind: place_of_worship
            draw:
                polygons:
                    color: [0.00,0.00,0.00]
                lines:
                    color: [1.00,1.00,1.00]

        commercial:
            filter: { kind_detail: commercial }
            draw:
                polygons:
                    color: [1.000,0.502,0.290]
                lines:
                    color: [1.00,1.00,1.00]

        in_park:
            filter:
                landuse_kind: [park,forest,nature_reserve,conservation,golf_course,garden]
            draw:
                polygons:
                    color: [0.157,0.890,0.412]
                lines:
                    color: [1.00,1.00,1.00]
        in_university:
            filter: { landuse_kind: [university,school] }
            draw:
                polygons:
                    color: [0.161,0.773,0.965]
                lines:
                    color: [1.00,1.00,1.00]
        in_hospital:
            filter: { landuse_kind: hospital }
            draw:
                polygons:
                    color: [1.000,0.404,0.839]
                lines:
                    color: [1.00,1.00,1.00]
        in_retail:
           filter: { landuse_kind: retail }
           draw:
                polygons:
                    color: [1.000,0.600,0.122]
                lines:
                    color: [1.00,1.00,1.00]
        in_airport:
            filter: { landuse_kind: [aerodrome, runway, taxiway] }
            draw:
                polygons:
                    color: [0.498,0.302,1.000]
                lines:
                    color: [1.00,1.00,1.00]

        # footprints:
            #extrude:
                # draw:
                #     polygons:
                #         color: [0.820,0.820,0.820]
                #     lines:
                #         color: [1.00,1.00,1.00]

            # kind_detail:
            #     filter:
            #         kind_detail: true
            #     draw:
            #         polygons:
            #             color: red

            # church:
            #     filter:
            #         any:
            #             - kind_detail: church
            #             - landuse_kind: place_of_worship
            #     draw:
            #         polygons:
            #             color: [0.00,0.00,0.00]
            #         lines:
            #             color: [1.00,1.00,1.00]

            # commercial:
            #     filter: { kind_detail: commercial }
            #     draw:
            #         polygons:
            #             color: [1.000,0.502,0.290]
            #         lines:
            #             color: [1.00,1.00,1.00]

            # in_park:
            #     filter:
            #         landuse_kind: [park,forest,nature_reserve,conservation,golf_course,garden]
            #     draw:
            #         polygons:
            #             color: [0.157,0.890,0.412]
            #         lines:
            #             color: [1.00,1.00,1.00]
            # in_university:
            #     filter: { landuse_kind: [university,school] }
            #     draw:
            #         polygons:
            #             color: [0.161,0.773,0.965]
            #         lines:
            #             color: [1.00,1.00,1.00]
            # in_hospital:
            #     filter: { landuse_kind: hospital }
            #     draw:
            #         polygons:
            #             color: [1.000,0.404,0.839]
            #         lines:
            #             color: [1.00,1.00,1.00]
            # in_retail:
            #     filter: { landuse_kind: retail }
            #     draw:
            #         polygons:
            #             color: [1.000,0.600,0.122]
            #         lines:
            #             color: [1.00,1.00,1.00]
            # in_airport:
            #     filter: { landuse_kind: [aerodrome, runway, taxiway] }
            #     draw:
            #         polygons:
            #             color: [0.498,0.302,1.000]
            #         lines:
            #             color: [1.00,1.00,1.00]

styles:
    building-grid:
        shaders:
            uniforms:
                u_grid_color: global.white_color

    waves:
        shaders:
            uniforms:
                u_lighter: [0.850,0.850,0.850] #global.lighter_color
                u_lightest: [0.950,0.950,0.950] #global.lightest_color

    coast:
        base: lines
        mix: [space-constant]
        blend: overlay
        shaders:
            blocks:
                global: |
                    mat2 rotate2d(float angle){
                        return mat2(cos(angle),-sin(angle),
                                    sin(angle),cos(angle));
                    }

                    float stripes(vec2 st){
                        st = rotate2d(3.14159265358*-0.25 )*st;
                        //return step(.9,1.0-smoothstep(.5,1.,abs(sin(st.x*3.14159265358))));
                        return step(.75,1.0-smoothstep(.75,1.,abs(sin(st.x*3.14159265358)))); // more spaced out stripes?
                    }
                color: |
                    vec2 st = getConstantCoords();
                    color = mix(vec4(color.rgb, 0.4), vec4(0.0), stripes(st*130.))*.9; // transparent stripes

textures:
    building-grid:
        url: ../images/building-grid-bold.gif
